<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/processor.md at 2022-05-08
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20220508" />
    <meta http-equiv="Content-Language" content="en" />
    <title>weasel-javafx-parent &#x2013; Annotation Processor</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="index.html" id="bannerLeft" title="Weasel Logo"><img src="images/logo-left.png"  alt="Weasel Logo" title="Weasel"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="projectVersion">Version: 0.2.0</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Documentation</li>
    <li><a href="introduction.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="utilities.html" title="Utilities"><span class="none"></span>Utilities</a></li>
    <li class="active"><a href="#"><span class="none"></span>Processor</a></li>
      <li class="nav-header">Modules</li>
    <li><a href="../weasel-javafx-annotations/weasel-javafx-parent/weasel-javafx-annotations/index.html" title="weasel-javafx-annotations"><span class="none"></span>weasel-javafx-annotations</a></li>
    <li><a href="../weasel-javafx-processor/weasel-javafx-parent/weasel-javafx-processor/index.html" title="weasel-javafx-processor"><span class="none"></span>weasel-javafx-processor</a></li>
    <li><a href="../weasel-javafx-test/weasel-javafx-parent/weasel-javafx-test/index.html" title="weasel-javafx-test"><span class="none"></span>weasel-javafx-test</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Annotation Processor</h1>
<p>This section describes the annotation processor and how to use it.</p><section>
<h2><a name="Available_Annotations"></a>Available Annotations</h2>
<p>The available annotations for the annotation processor are:</p>
<ul>

<li>View =&gt; Which describes a view class associated with a fxml file;</li>
<li>Component =&gt; Describes a field of a view class, that is binded to a specific fxml component;</li>
<li>EventFor =&gt; Describes a method of a view class, that is a listener to a event that a specific fxml component emits;</li>
<li>EventsFor =&gt; Describes a method of a view class, that is a listener to various events from different fxml components;</li>
</ul>
<p>Notice, that the id's that the annotation work with are <b>not fx:id</b> but the id field of the component.</p>
<p>Note that, you may have a listener for a fxml component, that isn't associated with a component annotation.</p>
<p>For example:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">@View( name = &quot;example_form.fxml&quot;)
public abstract class ExampleWindow extends VBox {

  @Component( id = &quot;newAction&quot; )
  protected Button newAction;

  @Component( id = &quot;saveAction&quot; )
  protected Button saveAction;

  @Component( id = &quot;closeAction&quot; )
  protected Button closeAction;

  @Component( id = &quot;revertAction&quot; )
  protected Button revertAction;

  @Component( id = &quot;preferencesAction&quot; )
  protected Button preferencesAction;

  @Component( id = &quot;quitAction&quot; )
  protected Button quitAction;

  @Component( id = &quot;undoAction&quot; )
  protected Button undoAction;

  @Component( id = &quot;redoAction&quot; )
  protected Button redoAction;

  @Component( id = &quot;cutAction&quot; )
  protected Button cutAction;

  @Component( id = &quot;copyAction&quot; )
  protected Button copyAction;

  @Component( id = &quot;pasteAction&quot; )
  protected Button pasteAction;

  @Component( id = &quot;deleteAction&quot; )
  protected Button deleteAction;

  @Component( id = &quot;masterView&quot; )
  protected ListView&lt;PortEntry&gt; masterView;

  @Component( id = &quot;port&quot; )
  protected Spinner&lt;Integer&gt; port;

  @Component( id = &quot;name&quot; )
  protected TextField name;

  @Component( id = &quot;description&quot; )
  protected TextField description;

  @Component( id = &quot;protocol&quot; )
  protected ComboBox&lt;String&gt; protocol;

  @Component( id = &quot;secure&quot; )
  protected CheckBox secure;

  @Component( id = &quot;creationDate&quot; )
  protected TextField creationDate;

  @Component( id = &quot;modificationDate&quot; )
  protected TextField modificationDate;

  @Component( id = &quot;tooltip&quot; )
  protected Label tooltip;

  protected ExampleForm( Long initialRecord ) {
    this.setMaxSize( Double.MAX_VALUE, Double.MAX_VALUE );
  }

  // Called after initializing all fields
  protected void init() {
    this.port.setValueFactory( new IntegerSpinnerValueFactory( 1, 65535, 1024, 1 ) );
    this.protocol.setItems( FXCollections.observableArrayList(
        &quot;tcp&quot;, &quot;udp&quot;, &quot;http&quot;, &quot;pop3&quot;, &quot;ldap&quot;, &quot;imap&quot;, &quot;smtp&quot;, &quot;other&quot; ) );
  }

  @EventsFor( {
      @EventFor( id = &quot;newMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;newAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onNewAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;closeMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;closeAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onCloseAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;saveMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;saveAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onSaveAction( ActionEvent event) { }

  @EventFor( id = &quot;saveAsMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class )
  protected void onSaveAsAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;revertMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;revertAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onRevertAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;preferencesMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;preferencesAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onPreferencesAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;quitMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;quitAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onQuitAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;undoMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;undoAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onUndoAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;redoMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;redoAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onRedoAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;cutMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;cutAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onCutAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;copyMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;copyAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onCopyAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;pasteMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;pasteAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onPasteAction( ActionEvent event) { }

  @EventsFor( {
      @EventFor( id = &quot;deleteMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class ),
      @EventFor( id = &quot;deleteAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  } )
  protected void onDeleteAction( ActionEvent event) { }

  @EventFor( id = &quot;selectAllMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class )
  protected void onSelectAllAction( ActionEvent event) { }

  @EventFor( id = &quot;aboutMenuItem&quot;, action = &quot;onAction&quot;, control = MenuItem.class )
  protected void onAboutAction( ActionEvent event) { }

  @EventFor( id = &quot;masterView&quot;, action = &quot;onMouseClicked&quot;, control = ListView.class )
  protected void onItemSelected( MouseEvent event ) { }

  @EventFor( id = &quot;newRecordAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  protected void onNewRecordAction( ActionEvent event) { }

  @EventFor( id = &quot;deleteRecordAction&quot;, action = &quot;onAction&quot;, control = Button.class )
  protected void onDeleteRecordAction( ActionEvent event) { }
  
}
</code></pre></div>
<p>Where the following <b>MUST</b> be true from a class containing the view annotation:</p>
<ul>

<li>The class <b>MUST</b> extend from the root element specified in the fxml file, in this case a VBox;</li>
<li>The class <b>MUST</b> be public;</li>
<li>It is <b>ADVISABLE</b> from the class to be abstract, so that no instances of it can be directly created;</li>
<li>Any field annotated with <b>Component</b> <b>MUST</b> be protected or public, so that it can be accessible in the class created by the processor;</li>
<li>The constructor <b>MUST</b> be protected or public, if it exists;</li>
<li>The constructor <b>MAY</b> have any number of parameters, and in that case the class generated by the processor, will have those same parameters;</li>
<li>The class <b>MAY</b> have a protected or public method named init, that is void and has no parameters, that will be called, after all components
and events are bound, think of it as a post-construct;</li>
<li>The methods annotated with <b>EventFor</b> or <b>EventsFor</b>, <b>MUST</b> be protected or public and have a compatible signature for the event they are for.</li>
</ul>
<p>Also, for the example above, the given class will be generated:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">/**
 * This type contains the implementation of the view class without the View annotation
 * as generated by the weasel-javafx-processor
 */
@Generated(
    value = &quot;weasel-javafx-processor&quot;,
    date = &quot;2022-05-07&quot;,
    comments = &quot;Can't touch this!&quot;
)
@Named(&quot;exampleForm&quot;)
public final class ExampleFormWeasel extends ExampleForm {
  @Inject
  public ExampleFormWeasel(Long initialRecord) {
    super(initialRecord);
    // Attempt to load the given fxml file, inside the root provided by this view
    FXMLLoader fxmlLoader = new FXMLLoader( getClass().getResource( &quot;example_form.fxml&quot; ) );
    fxmlLoader.setRoot( this );
    fxmlLoader.setController( this );
    try {
      fxmlLoader.load();
    } catch( IOException ex ) {
      throw new RuntimeException(ex);
    }

    // Inject the fields from the fxml
    this.newAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#newAction&quot;, this ).get();
    this.saveAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#saveAction&quot;, this ).get();
    this.closeAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#closeAction&quot;, this ).get();
    this.revertAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#revertAction&quot;, this ).get();
    this.preferencesAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#preferencesAction&quot;, this ).get();
    this.quitAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#quitAction&quot;, this ).get();
    this.undoAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#undoAction&quot;, this ).get();
    this.redoAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#redoAction&quot;, this ).get();
    this.cutAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#cutAction&quot;, this ).get();
    this.copyAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#copyAction&quot;, this ).get();
    this.pasteAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#pasteAction&quot;, this ).get();
    this.deleteAction = JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#deleteAction&quot;, this ).get();
    this.masterView = JavaFxUtils.getInstance().&lt;ListView&lt;PortEntry&gt;&gt;lookup( &quot;#masterView&quot;, this ).get();
    this.port = JavaFxUtils.getInstance().&lt;Spinner&lt;Integer&gt;&gt;lookup( &quot;#port&quot;, this ).get();
    this.name = JavaFxUtils.getInstance().&lt;TextField&gt;lookup( &quot;#name&quot;, this ).get();
    this.description = JavaFxUtils.getInstance().&lt;TextField&gt;lookup( &quot;#description&quot;, this ).get();
    this.protocol = JavaFxUtils.getInstance().&lt;ComboBox&lt;String&gt;&gt;lookup( &quot;#protocol&quot;, this ).get();
    this.secure = JavaFxUtils.getInstance().&lt;CheckBox&gt;lookup( &quot;#secure&quot;, this ).get();
    this.creationDate = JavaFxUtils.getInstance().&lt;TextField&gt;lookup( &quot;#creationDate&quot;, this ).get();
    this.modificationDate = JavaFxUtils.getInstance().&lt;TextField&gt;lookup( &quot;#modificationDate&quot;, this ).get();
    this.tooltip = JavaFxUtils.getInstance().&lt;Label&gt;lookup( &quot;#tooltip&quot;, this ).get();

    // Inject the events in the proper event handler
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#saveAsMenuItem&quot;, this ).get()).onActionProperty().set( this::onSaveAsAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#selectAllMenuItem&quot;, this ).get()).onActionProperty().set( this::onSelectAllAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#aboutMenuItem&quot;, this ).get()).onActionProperty().set( this::onAboutAction );
    (JavaFxUtils.getInstance().&lt;ListView&gt;lookup( &quot;#masterView&quot;, this ).get()).onMouseClickedProperty().set( this::onItemSelected );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#newRecordAction&quot;, this ).get()).onActionProperty().set( this::onNewRecordAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#deleteRecordAction&quot;, this ).get()).onActionProperty().set( this::onDeleteRecordAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#newMenuItem&quot;, this ).get()).onActionProperty().set( this::onNewAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#newAction&quot;, this ).get()).onActionProperty().set( this::onNewAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#closeMenuItem&quot;, this ).get()).onActionProperty().set( this::onCloseAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#closeAction&quot;, this ).get()).onActionProperty().set( this::onCloseAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#saveMenuItem&quot;, this ).get()).onActionProperty().set( this::onSaveAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#saveAction&quot;, this ).get()).onActionProperty().set( this::onSaveAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#revertMenuItem&quot;, this ).get()).onActionProperty().set( this::onRevertAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#revertAction&quot;, this ).get()).onActionProperty().set( this::onRevertAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#preferencesMenuItem&quot;, this ).get()).onActionProperty().set( this::onPreferencesAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#preferencesAction&quot;, this ).get()).onActionProperty().set( this::onPreferencesAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#quitMenuItem&quot;, this ).get()).onActionProperty().set( this::onQuitAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#quitAction&quot;, this ).get()).onActionProperty().set( this::onQuitAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#undoMenuItem&quot;, this ).get()).onActionProperty().set( this::onUndoAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#undoAction&quot;, this ).get()).onActionProperty().set( this::onUndoAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#redoMenuItem&quot;, this ).get()).onActionProperty().set( this::onRedoAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#redoAction&quot;, this ).get()).onActionProperty().set( this::onRedoAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#cutMenuItem&quot;, this ).get()).onActionProperty().set( this::onCutAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#cutAction&quot;, this ).get()).onActionProperty().set( this::onCutAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#copyMenuItem&quot;, this ).get()).onActionProperty().set( this::onCopyAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#copyAction&quot;, this ).get()).onActionProperty().set( this::onCopyAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#pasteMenuItem&quot;, this ).get()).onActionProperty().set( this::onPasteAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#pasteAction&quot;, this ).get()).onActionProperty().set( this::onPasteAction );
    (JavaFxUtils.getInstance().&lt;MenuItem&gt;lookup( &quot;#deleteMenuItem&quot;, this ).get()).onActionProperty().set( this::onDeleteAction );
    (JavaFxUtils.getInstance().&lt;Button&gt;lookup( &quot;#deleteAction&quot;, this ).get()).onActionProperty().set( this::onDeleteAction );

    // Call the init method
    this.init();
  }
}
</code></pre></div>
<p>As noted in the example above, the generated class:</p>
<ul>

<li>Will always be named **[BaseClass]**Weasel, and extend from the class annotated with View.</li>
<li>Next, we will try to load the fxml file, described in the View annotation, setting the root and controller as the own
class;</li>
<li>Following this the fields annotated with Component will be injected;</li>
<li>Then, the events will be bound to the respective methods;</li>
<li>And finally the init method if present, will be called.</li>
<li>Note, that the created class will have the Named annotation and its constructor the Inject annotation, since it
is meant for weasel, to be used with a javax.inject dependency injector, preferably Dagger, since it is in the same
spirit as weasel.</li>
</ul></section>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2022
chordflower.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
